'use strict'

const MqttBroker = require('../../node_modules/@nebulae/event-store/lib/broker/MqttBroker');
const Rx = require('rxjs');
const {
    tap,
    mergeMap,
    mergeMapTo,
    delay,
    switchMapTo,
    concatMap,
    last,
} = require('rxjs/operators');



const events = [
    {
        et: 'WalletSpendingAllowed',
        etv: 1,
        at: 'Wallet',
        aid: '5bedf03b649a1a00168f48d0',
        data: { businessId: 'c81860b2-5da0-4c03-8774-445f244bc8d4', wallet: { balance: 1200000, bonus: 145366 } },
        user: 'SYSTEM',
        timestamp: 1542148523128,
        av: 1
    },
    { "_id": "5bedf2be09d33c0053e93695", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedf03b649a1a00168f48d0", "data": { "businessId": "ee9ffdbb-6906-49f1-aa72-955c367751d3", "transactionType": "MOVEMENT", "transactionConcept": "DEPOSIT", "transactions": [{ "id": "d5953899-2939-4aa4-b2ef-cab8e4d29ce6-1118", "pocket": "MAIN", "value": 250000, "notes": "ajuste de saldo ", "location": null, "user": "juan.santa" }] }, "user": "SYSTEM", "timestamp": 1542320830183, "av": 3 },
    { "_id": "5bedf3b409d33c0053e93697", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedf03b649a1a00168f48d0", "data": { "businessId": "ee9ffdbb-6906-49f1-aa72-955c367751d3", "transactionType": "MOVEMENT", "transactionConcept": "WITHDRAWAL", "transactions": [{ "id": "bf8ae84d-f80b-4c01-b128-29dad5aef887-1118", "pocket": "MAIN", "value": -50000, "user": "juan.santa", "location": null, "notes": "Se corrige saldo", "terminal": null, "associatedTransactionIds": [] }] }, "user": "SYSTEM", "timestamp": 1542321076022, "av": 4 },
    { "_id": "5bedf51209d33c0053e93698", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedf03b649a1a00168f48d0", "data": { "businessId": "ee9ffdbb-6906-49f1-aa72-955c367751d3", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "9a300722-72c7-4907-90f8-9887c1b63762-1118", "pocket": "MAIN", "value": -5000, "user": "Sebastian Molano", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "POS: id=testPosId, userName=testPosUser, userId=testPosUserId, terminal=testPosTerminal ", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": [] }] }, "user": "SYSTEM", "timestamp": 1542321426580, "av": 5 },
    { "_id": "5bedf53b09d33c0053e93699", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedf03b649a1a00168f48d0", "data": { "businessId": "ee9ffdbb-6906-49f1-aa72-955c367751d3", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "d6967c2e-cee2-402c-95ce-6dd71be16a8a-1118", "pocket": "MAIN", "value": -20000, "user": "Sebastian Molano", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "POS: id=testPosId, userName=testPosUser, userId=testPosUserId, terminal=testPosTerminal ", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": [] }] }, "user": "SYSTEM", "timestamp": 1542321467589, "av": 6 },
    { "_id": "5bedf56109d33c0053e9369a", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedf03b649a1a00168f48d0", "data": { "businessId": "ee9ffdbb-6906-49f1-aa72-955c367751d3", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "2172935d-1811-491d-a439-56b72afdce65-1118", "pocket": "MAIN", "value": -50000, "user": "Sebastian Molano", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "POS: id=testPosId, userName=testPosUser, userId=testPosUserId, terminal=testPosTerminal ", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": [] }] }, "user": "SYSTEM", "timestamp": 1542321505273, "av": 7 },
    { "_id": "5bedf5df09d33c0053e9369c", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedf03b649a1a00168f48d0", "data": { "businessId": "ee9ffdbb-6906-49f1-aa72-955c367751d3", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "ee2a90aa-bb18-49b6-85a6-0735a211a905-1118", "pocket": "MAIN", "value": -50000, "user": "Sebastian Molano", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "POS: id=testPosId, userName=testPosUser, userId=testPosUserId, terminal=testPosTerminal ", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": [] }] }, "user": "SYSTEM", "timestamp": 1542321631413, "av": 8 },
    { "_id": "5bedf61109d33c0053e9369d", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedf03b649a1a00168f48d0", "data": { "businessId": "ee9ffdbb-6906-49f1-aa72-955c367751d3", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "4aab8473-f9e1-41c3-b3ed-f26c3b4eacd1-1118", "pocket": "MAIN", "value": -50000, "user": "Sebastian Molano", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "POS: id=testPosId, userName=testPosUser, userId=testPosUserId, terminal=testPosTerminal ", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": [] }] }, "user": "SYSTEM", "timestamp": 1542321681586, "av": 9 },
    { "_id": "5bedf66009d33c0053e936a1", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedf03b649a1a00168f48d0", "data": { "businessId": "ee9ffdbb-6906-49f1-aa72-955c367751d3", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "1c5c13ce-fd71-4670-80e2-340a966d8b18-1118", "pocket": "MAIN", "value": -50000, "user": "Sebastian Molano", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "POS: id=testPosId, userName=testPosUser, userId=testPosUserId, terminal=testPosTerminal ", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": [] }] }, "user": "SYSTEM", "timestamp": 1542321760359, "av": 12 },
    { "_id": "5bedf6ca09d33c0053e936a4", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedf03b649a1a00168f48d0", "data": { "businessId": "ee9ffdbb-6906-49f1-aa72-955c367751d3", "transactionType": "MOVEMENT", "transactionConcept": "DEPOSIT", "transactions": [{ "id": "9c41bae0-3960-4b2a-a3d3-b7ca7bf2295d-1118", "pocket": "MAIN", "value": 75000, "notes": "recarga de prueba", "location": null, "user": "juan.santa" }] }, "user": "SYSTEM", "timestamp": 1542321866576, "av": 14 },
    { "_id": "5bedf9c507d1560025def03c", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedf03b649a1a00168f48d0", "data": { "businessId": "ee9ffdbb-6906-49f1-aa72-955c367751d3", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "87a0ccb9-f43a-4ae7-9328-3fca0f469564-1118", "pocket": "MAIN", "value": -10000, "user": "Sebastian Molano", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "POS: id=testPosId, userName=testPosUser, userId=testPosUserId, terminal=testPosTerminal ", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["c217eb79-c7bc-4f98-b6b1-1a0247551ee3-1118"] }, { "id": "c217eb79-c7bc-4f98-b6b1-1a0247551ee3-1118", "pocket": "BONUS", "value": 1000, "user": "SYSTEM", "associatedTransactionIds": ["87a0ccb9-f43a-4ae7-9328-3fca0f469564-1118"] }] }, "user": "SYSTEM", "timestamp": 1542322629656, "av": 16 },
    { "_id": "5bedf9dc07d1560025def03d", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedf03b649a1a00168f48d0", "data": { "businessId": "ee9ffdbb-6906-49f1-aa72-955c367751d3", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "187a35bc-bac5-4137-a70a-745f7b005c3f-1118", "pocket": "MAIN", "value": -10000, "user": "Sebastian Molano", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "POS: id=testPosId, userName=testPosUser, userId=testPosUserId, terminal=testPosTerminal ", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["45de713f-d0b1-42c9-b730-6de9e3240edf-1118"] }, { "id": "45de713f-d0b1-42c9-b730-6de9e3240edf-1118", "pocket": "BONUS", "value": 1000, "user": "SYSTEM", "associatedTransactionIds": ["187a35bc-bac5-4137-a70a-745f7b005c3f-1118"] }] }, "user": "SYSTEM", "timestamp": 1542322652084, "av": 17 },
    { "_id": "5bedf9f307d1560025def03e", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedf03b649a1a00168f48d0", "data": { "businessId": "ee9ffdbb-6906-49f1-aa72-955c367751d3", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "f1853d35-be36-4588-83c3-adb14443d423-1118", "pocket": "MAIN", "value": -10000, "user": "Sebastian Molano", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "POS: id=testPosId, userName=testPosUser, userId=testPosUserId, terminal=testPosTerminal ", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["6a5d1ea7-c7e7-4935-b06f-0f7f7e11b96c-1118"] }, { "id": "6a5d1ea7-c7e7-4935-b06f-0f7f7e11b96c-1118", "pocket": "BONUS", "value": 1000, "user": "SYSTEM", "associatedTransactionIds": ["f1853d35-be36-4588-83c3-adb14443d423-1118"] }] }, "user": "SYSTEM", "timestamp": 1542322675194, "av": 18 },
    { "_id": "5bedfa0907d1560025def03f", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedf03b649a1a00168f48d0", "data": { "businessId": "ee9ffdbb-6906-49f1-aa72-955c367751d3", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "de84c305-8ba4-481a-bf17-ed53103de939-1118", "pocket": "MAIN", "value": -10000, "user": "Sebastian Molano", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "POS: id=testPosId, userName=testPosUser, userId=testPosUserId, terminal=testPosTerminal ", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["42be7169-9e87-4749-9623-0fa44da088e4-1118"] }, { "id": "42be7169-9e87-4749-9623-0fa44da088e4-1118", "pocket": "BONUS", "value": 1000, "user": "SYSTEM", "associatedTransactionIds": ["de84c305-8ba4-481a-bf17-ed53103de939-1118"] }] }, "user": "SYSTEM", "timestamp": 1542322697119, "av": 19 },
    { "_id": "5bedfa1f07d1560025def040", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedf03b649a1a00168f48d0", "data": { "businessId": "ee9ffdbb-6906-49f1-aa72-955c367751d3", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "e3bea0fa-97f6-4f3f-a53e-5670abbac23b-1118", "pocket": "MAIN", "value": -10000, "user": "Sebastian Molano", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "POS: id=testPosId, userName=testPosUser, userId=testPosUserId, terminal=testPosTerminal ", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["c44d8322-59ad-42a2-8cd5-5fd435382a92-1118"] }, { "id": "c44d8322-59ad-42a2-8cd5-5fd435382a92-1118", "pocket": "BONUS", "value": 1000, "user": "SYSTEM", "associatedTransactionIds": ["e3bea0fa-97f6-4f3f-a53e-5670abbac23b-1118"] }] }, "user": "SYSTEM", "timestamp": 1542322719241, "av": 20 },
    { "_id": "5bedfa6407d1560025def043", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedf03b649a1a00168f48d0", "data": { "businessId": "ee9ffdbb-6906-49f1-aa72-955c367751d3", "transactionType": "MOVEMENT", "transactionConcept": "DEPOSIT", "transactions": [{ "id": "7e66e038-bf16-4f7c-9f00-58660e5feef6-1118", "pocket": "MAIN", "value": 15000, "notes": "AJUSTE DE SALDO", "location": null, "user": "juan.santa" }] }, "user": "SYSTEM", "timestamp": 1542322788773, "av": 22 },
    { "_id": "5bedfa8407d1560025def045", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedf03b649a1a00168f48d0", "data": { "businessId": "ee9ffdbb-6906-49f1-aa72-955c367751d3", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "cf46c04d-5e75-451e-ac8e-0813fcb4bf56-1118", "pocket": "MAIN", "value": -20000, "user": "Sebastian Molano", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "POS: id=testPosId, userName=testPosUser, userId=testPosUserId, terminal=testPosTerminal ", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["403e0120-a47f-4ee1-a2bf-05458ec195ec-1118"] }, { "id": "403e0120-a47f-4ee1-a2bf-05458ec195ec-1118", "pocket": "BONUS", "value": 200, "user": "SYSTEM", "associatedTransactionIds": ["cf46c04d-5e75-451e-ac8e-0813fcb4bf56-1118"] }] }, "user": "SYSTEM", "timestamp": 1542322820853, "av": 24 },
    { "_id": "5bedfc1607d1560025def04a", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedf03b649a1a00168f48d0", "data": { "businessId": "ee9ffdbb-6906-49f1-aa72-955c367751d3", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "412132f2-abc0-496e-b44b-272763ad0f67-1118", "pocket": "BONUS", "value": -5200, "user": "Sebastian Molano", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "POS: id=testPosId, userName=testPosUser, userId=testPosUserId, terminal=testPosTerminal ", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": [] }] }, "user": "SYSTEM", "timestamp": 1542323222696, "av": 27 },
    { "_id": "5bedfc3e07d1560025def04b", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedf03b649a1a00168f48d0", "data": { "businessId": "ee9ffdbb-6906-49f1-aa72-955c367751d3", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "c7c1f3a9-a362-4d3c-ae21-14675a9c72ce-1118", "pocket": "MAIN", "value": -50000, "user": "Sebastian Molano", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "POS: id=testPosId, userName=testPosUser, userId=testPosUserId, terminal=testPosTerminal ", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["e45bd880-d5ad-440a-8a7e-16ab42b5942b-1118"] }, { "id": "e45bd880-d5ad-440a-8a7e-16ab42b5942b-1118", "pocket": "BONUS", "value": 500, "user": "SYSTEM", "associatedTransactionIds": ["c7c1f3a9-a362-4d3c-ae21-14675a9c72ce-1118"] }] }, "user": "SYSTEM", "timestamp": 1542323262416, "av": 28 },
    { "_id": "5bedfcca07d1560025def04e", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedf03b649a1a00168f48d0", "data": { "businessId": "ee9ffdbb-6906-49f1-aa72-955c367751d3", "transactionType": "MOVEMENT", "transactionConcept": "DEPOSIT", "transactions": [{ "id": "a8e9ac65-df1a-4e90-a1b5-37063422bbda-1118", "pocket": "MAIN", "value": 500000, "notes": "ajuste de saldo", "location": null, "user": "juan.santa" }] }, "user": "SYSTEM", "timestamp": 1542323402255, "av": 30 },
    { "_id": "5bedfcd007d1560025def050", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedf03b649a1a00168f48d0", "data": { "businessId": "ee9ffdbb-6906-49f1-aa72-955c367751d3", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "e7714229-bbf5-4288-97aa-e92676182ad2-1118", "pocket": "MAIN", "value": -50000, "user": "Sebastian Molano", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "POS: id=testPosId, userName=testPosUser, userId=testPosUserId, terminal=testPosTerminal ", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["9db1efc4-10f5-4d41-9c1f-4c3ca661721a-1118"] }, { "id": "9db1efc4-10f5-4d41-9c1f-4c3ca661721a-1118", "pocket": "BONUS", "value": 5000, "user": "SYSTEM", "associatedTransactionIds": ["e7714229-bbf5-4288-97aa-e92676182ad2-1118"] }] }, "user": "SYSTEM", "timestamp": 1542323408264, "av": 32 },
    { "_id": "5bedfd0a07d1560025def052", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedf03b649a1a00168f48d0", "data": { "businessId": "ee9ffdbb-6906-49f1-aa72-955c367751d3", "transactionType": "MOVEMENT", "transactionConcept": "WITHDRAWAL", "transactions": [{ "id": "ce5ed30c-f15e-4d4d-b1cd-e362a11d2e41-1118", "pocket": "MAIN", "value": -420000, "user": "juan.santa", "location": null, "notes": "RETIRO DE DINERO", "terminal": null, "associatedTransactionIds": [] }] }, "user": "SYSTEM", "timestamp": 1542323466691, "av": 33 },
    { "_id": "5bedfd0e07d1560025def053", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedf03b649a1a00168f48d0", "data": { "businessId": "ee9ffdbb-6906-49f1-aa72-955c367751d3", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "81b1b087-5f2a-4ba8-91b9-7ffee83fadeb-1118", "pocket": "MAIN", "value": -20000, "user": "Sebastian Molano", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "POS: id=testPosId, userName=testPosUser, userId=testPosUserId, terminal=testPosTerminal ", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["57cc3bce-367d-4f3d-bb87-c1cc5be438ff-1118"] }, { "id": "57cc3bce-367d-4f3d-bb87-c1cc5be438ff-1118", "pocket": "BONUS", "value": 200, "user": "SYSTEM", "associatedTransactionIds": ["81b1b087-5f2a-4ba8-91b9-7ffee83fadeb-1118"] }] }, "user": "SYSTEM", "timestamp": 1542323470446, "av": 34 },
    { "_id": "5bedfd5b07d1560025def056", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedf03b649a1a00168f48d0", "data": { "businessId": "ee9ffdbb-6906-49f1-aa72-955c367751d3", "transactionType": "MOVEMENT", "transactionConcept": "DEPOSIT", "transactions": [{ "id": "747db0d5-e111-4e0d-acf7-01d0f0db856b-1118", "pocket": "MAIN", "value": 500000, "notes": "AJUSTE DE SALDO", "location": null, "user": "juan.santa" }] }, "user": "SYSTEM", "timestamp": 1542323547401, "av": 36 },
    { "_id": "5bedfd6407d1560025def058", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedf03b649a1a00168f48d0", "data": { "businessId": "ee9ffdbb-6906-49f1-aa72-955c367751d3", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "de050154-1045-4c36-963f-252b3c6a6802-1118", "pocket": "MAIN", "value": -50000, "user": "Sebastian Molano", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "POS: id=testPosId, userName=testPosUser, userId=testPosUserId, terminal=testPosTerminal ", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["fdffb08d-5a3c-4355-916d-dfca5e340e9e-1118"] }, { "id": "fdffb08d-5a3c-4355-916d-dfca5e340e9e-1118", "pocket": "BONUS", "value": 5000, "user": "SYSTEM", "associatedTransactionIds": ["de050154-1045-4c36-963f-252b3c6a6802-1118"] }] }, "user": "SYSTEM", "timestamp": 1542323556808, "av": 38 },
    { "_id": "5bedfd7e07d1560025def05a", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedf03b649a1a00168f48d0", "data": { "businessId": "ee9ffdbb-6906-49f1-aa72-955c367751d3", "transactionType": "MOVEMENT", "transactionConcept": "WITHDRAWAL", "transactions": [{ "id": "7087b117-c58f-45d4-bd28-48e4414c2485-1118", "pocket": "MAIN", "value": -390000, "user": "juan.santa", "location": null, "notes": "RETIRO", "terminal": null, "associatedTransactionIds": [] }] }, "user": "SYSTEM", "timestamp": 1542323582408, "av": 39 },
    { "_id": "5bedfd9c07d1560025def05c", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedf03b649a1a00168f48d0", "data": { "businessId": "ee9ffdbb-6906-49f1-aa72-955c367751d3", "transactionType": "MOVEMENT", "transactionConcept": "WITHDRAWAL", "transactions": [{ "id": "873d8ec5-b646-42e8-8395-5a0e72c58b03-1118", "pocket": "MAIN", "value": -40000, "user": "juan.santa", "location": null, "notes": "RETIRO", "terminal": null, "associatedTransactionIds": [] }] }, "user": "SYSTEM", "timestamp": 1542323612611, "av": 40 },
    { "_id": "5bedfdb607d1560025def05d", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedf03b649a1a00168f48d0", "data": { "businessId": "ee9ffdbb-6906-49f1-aa72-955c367751d3", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "c628f7fa-a0a4-4dff-b88c-04c76be07db2-1118", "pocket": "BONUS", "value": -2000, "user": "Sebastian Molano", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "POS: id=testPosId, userName=testPosUser, userId=testPosUserId, terminal=testPosTerminal ", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": [] }] }, "user": "SYSTEM", "timestamp": 1542323638431, "av": 41 },
    { "_id": "5bedfdff07d1560025def05f", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedf03b649a1a00168f48d0", "data": { "businessId": "ee9ffdbb-6906-49f1-aa72-955c367751d3", "transactionType": "MOVEMENT", "transactionConcept": "WITHDRAWAL", "transactions": [{ "id": "8376b3dd-475e-44d3-8fd1-89742a776127-1118", "pocket": "MAIN", "value": -20000, "user": "juan.santa", "location": null, "notes": "RETIRO", "terminal": null, "associatedTransactionIds": [] }] }, "user": "SYSTEM", "timestamp": 1542323711196, "av": 42 },
    { "_id": "5bee042d07d1560025def065", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "MOVEMENT", "transactionConcept": "DEPOSIT", "transactions": [{ "id": "effec715-610f-43d7-96ae-463d60281207-1118", "pocket": "MAIN", "value": 20000, "notes": "recarga", "location": null, "user": "juan.santa" }] }, "user": "SYSTEM", "timestamp": 1542325293880, "av": 2 },
    { "_id": "5bee043207d1560025def067", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "8998f986-ed6a-4d58-b016-be190ece42ee-1118", "pocket": "MAIN", "value": -15000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "POS: id=testPosId, userName=testPosUser, userId=testPosUserId, terminal=testPosTerminal ", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": [] }] }, "user": "SYSTEM", "timestamp": 1542325298586, "av": 4 },
    { "_id": "5beec8b83e390f003923519d", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "MOVEMENT", "transactionConcept": "DEPOSIT", "transactions": [{ "id": "73c19623-4cc7-4d06-b027-7519e36da546-1118", "pocket": "MAIN", "value": 100000, "notes": "RECARGA DE SALDO", "location": null, "user": "juan.santa" }] }, "user": "SYSTEM", "timestamp": 1542375608885, "av": 5 },
    { "_id": "5beed5393e390f003923519e", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "185be153-6655-4471-8630-69d1a1ec2e80-1118", "pocket": "MAIN", "value": -5000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648812, -75.601637] }, "notes": "POS: id=testPosId, userName=testPosUser, userId=testPosUserId, terminal=testPosTerminal ", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": [] }] }, "user": "SYSTEM", "timestamp": 1542378809545, "av": 6 },
    { "_id": "5beed5ab3e390f003923519f", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "6c2953b9-872c-4d64-a262-23037c472943-1118", "pocket": "MAIN", "value": -5000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648812, -75.601637] }, "notes": "POS: id=testPosId, userName=testPosUser, userId=testPosUserId, terminal=testPosTerminal ", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": [] }] }, "user": "SYSTEM", "timestamp": 1542378923612, "av": 7 },
    { "_id": "5beed7be3e390f00392351a0", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "731fefb8-94b6-4288-b797-513a2e35fed9-1118", "pocket": "MAIN", "value": -5000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648769, -75.6016065] }, "notes": "POS: id=testPosId, userName=testPosUser, userId=testPosUserId, terminal=testPosTerminal ", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": [] }] }, "user": "SYSTEM", "timestamp": 1542379454384, "av": 8 },
    { "_id": "5beed7fb3e390f00392351a1", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "2186d2a0-5f0e-4fa7-b155-154a814ef316-1118", "pocket": "MAIN", "value": -5000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648769, -75.6016065] }, "notes": "POS: id=testPosId, userName=testPosUser, userId=testPosUserId, terminal=testPosTerminal ", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": [] }] }, "user": "SYSTEM", "timestamp": 1542379515677, "av": 9 },
    { "_id": "5beee0743e390f00392351a2", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "c11f2514-8fe6-4d6c-947c-ff599cc512e3-1118", "pocket": "MAIN", "value": -50000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648822, -75.6016352] }, "notes": "POS: id=testPosId, userName=testPosUser, userId=testPosUserId, terminal=testPosTerminal ", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": [] }] }, "user": "SYSTEM", "timestamp": 1542381684739, "av": 10 },
    { "_id": "5beee0943e390f00392351a3", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "ea91ad09-5e0a-44f0-963a-cb113c63a63a-1118", "pocket": "MAIN", "value": -15000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648822, -75.6016352] }, "notes": "POS: id=testPosId, userName=testPosUser, userId=testPosUserId, terminal=testPosTerminal ", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": [] }] }, "user": "SYSTEM", "timestamp": 1542381716075, "av": 11 },
    { "_id": "5beee0c33e390f00392351a4", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "38e72925-a9bd-4d0f-9f8e-15e3b46e87c4-1118", "pocket": "MAIN", "value": -20000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648822, -75.6016352] }, "notes": "POS: id=testPosId, userName=testPosUser, userId=testPosUserId, terminal=testPosTerminal ", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": [] }] }, "user": "SYSTEM", "timestamp": 1542381762970, "av": 12 },
    { "_id": "5beee1023e390f00392351a5", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "a82cac73-12e1-4743-8f57-bd40dc60da64-1118", "pocket": "MAIN", "value": -5000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648822, -75.6016352] }, "notes": "POS: id=testPosId, userName=testPosUser, userId=testPosUserId, terminal=testPosTerminal ", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": [] }] }, "user": "SYSTEM", "timestamp": 1542381826963, "av": 13 },
    { "_id": "5beee2253e390f00392351a8", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "MOVEMENT", "transactionConcept": "DEPOSIT", "transactions": [{ "id": "b1aa7ae4-089c-4b9f-a2c2-e4f3db764342-1118", "pocket": "MAIN", "value": 15000, "notes": "derposito", "location": null, "user": "juan.santa" }] }, "user": "SYSTEM", "timestamp": 1542382117404, "av": 15 },
    { "_id": "5beee2773e390f00392351aa", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "bbfa5427-fdb5-4aae-8010-e5660f25d3fb-1118", "pocket": "MAIN", "value": -5000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648822, -75.6016352] }, "notes": "POS: id=testPosId, userName=testPosUser, userId=testPosUserId, terminal=testPosTerminal ", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": [] }] }, "user": "SYSTEM", "timestamp": 1542382199035, "av": 17 },
    { "_id": "5beee8f93e390f00392351ae", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "MOVEMENT", "transactionConcept": "DEPOSIT", "transactions": [{ "id": "0e22e0af-8f07-40a0-9543-430e00050737-1118", "pocket": "MAIN", "value": 100000, "notes": "deposito", "location": null, "user": "juan.santa" }] }, "user": "SYSTEM", "timestamp": 1542383865693, "av": 19 },
    { "_id": "5beee9263e390f00392351b0", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "77d27761-4175-4895-aa30-36fac9e880b1-1118", "pocket": "MAIN", "value": -50000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648798, -75.6016316] }, "notes": "POS: id=testPosId, userName=testPosUser, userId=testPosUserId, terminal=testPosTerminal ", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["3c0ae6f6-8d94-4798-8b76-950b88bb7292-1118"] }, { "id": "3c0ae6f6-8d94-4798-8b76-950b88bb7292-1118", "pocket": "BONUS", "value": 500, "user": "SYSTEM", "associatedTransactionIds": ["77d27761-4175-4895-aa30-36fac9e880b1-1118"] }] }, "user": "SYSTEM", "timestamp": 1542383910089, "av": 21 },
    { "_id": "5beee9453e390f00392351b1", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "1d773a9a-7f6a-43df-a720-f045f987a71b-1118", "pocket": "MAIN", "value": -20000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648798, -75.6016316] }, "notes": "POS: id=testPosId, userName=testPosUser, userId=testPosUserId, terminal=testPosTerminal ", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["df56ec6e-67da-4f2b-9869-08c57c0e3aff-1118"] }, { "id": "df56ec6e-67da-4f2b-9869-08c57c0e3aff-1118", "pocket": "BONUS", "value": 200, "user": "SYSTEM", "associatedTransactionIds": ["1d773a9a-7f6a-43df-a720-f045f987a71b-1118"] }] }, "user": "SYSTEM", "timestamp": 1542383941047, "av": 22 },
    { "_id": "5beeed5f3e390f00392351b2", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "783c358d-e7c7-4b32-8723-522c83cc9689-1118", "pocket": "MAIN", "value": -5000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648721, -75.6016356] }, "notes": "POS: id=testPosId, userName=testPosUser, userId=testPosUserId, terminal=testPosTerminal ", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["b47dfbff-7f88-4ade-b3a5-1ad2f5b9f298-1118"] }, { "id": "b47dfbff-7f88-4ade-b3a5-1ad2f5b9f298-1118", "pocket": "BONUS", "value": 50, "user": "SYSTEM", "associatedTransactionIds": ["783c358d-e7c7-4b32-8723-522c83cc9689-1118"] }] }, "user": "SYSTEM", "timestamp": 1542384991532, "av": 23 },
    { "_id": "5beeedf23e390f00392351b3", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "9bf09724-1782-4c03-85f1-93540eeaf58d-1118", "pocket": "MAIN", "value": -50000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648721, -75.6016356] }, "notes": "POS: id=testPosId, userName=testPosUser, userId=testPosUserId, terminal=testPosTerminal ", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["53a97b31-e9aa-4a48-9724-4f0514e15141-1118"] }, { "id": "53a97b31-e9aa-4a48-9724-4f0514e15141-1118", "pocket": "BONUS", "value": 400, "user": "SYSTEM", "associatedTransactionIds": ["9bf09724-1782-4c03-85f1-93540eeaf58d-1118"] }] }, "user": "SYSTEM", "timestamp": 1542385138635, "av": 24 },
    { "_id": "5bef319d3e390f00392351b6", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "MOVEMENT", "transactionConcept": "DEPOSIT", "transactions": [{ "id": "d2ec1ad8-6d03-45db-8e23-0b34ed309940-1118", "pocket": "MAIN", "value": 40000, "notes": "deposito", "location": null, "user": "juan.santa" }] }, "user": "SYSTEM", "timestamp": 1542402461036, "av": 26 },
    { "_id": "5bef31c23e390f00392351b8", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "a45bfda8-2e4a-4cd7-b039-68882dd2e084-1118", "pocket": "MAIN", "value": -20000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648464, -75.6016407] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["749c96af-76d6-4bd7-940b-bf9911104712-1118"] }, { "id": "749c96af-76d6-4bd7-940b-bf9911104712-1118", "pocket": "BONUS", "value": 200, "user": "SYSTEM", "associatedTransactionIds": ["a45bfda8-2e4a-4cd7-b039-68882dd2e084-1118"] }] }, "user": "SYSTEM", "timestamp": 1542402498208, "av": 28 },
    { "_id": "5bef32f73e390f00392351bb", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "MOVEMENT", "transactionConcept": "DEPOSIT", "transactions": [{ "id": "66dda2bb-4bee-4a8d-9c3a-a92b369a1dd3-1118", "pocket": "MAIN", "value": 20000, "notes": "deposito", "location": null, "user": "juan.santa" }] }, "user": "SYSTEM", "timestamp": 1542402807813, "av": 30 },
    { "_id": "5bef33173e390f00392351bd", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "7e577910-85c8-4b7c-aff8-e3aa6693aaa6-1118", "pocket": "MAIN", "value": -20000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648464, -75.6016407] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["061add08-ea84-4f60-aaf8-f81c15080b51-1118"] }, { "id": "061add08-ea84-4f60-aaf8-f81c15080b51-1118", "pocket": "BONUS", "value": 200, "user": "SYSTEM", "associatedTransactionIds": ["7e577910-85c8-4b7c-aff8-e3aa6693aaa6-1118"] }] }, "user": "SYSTEM", "timestamp": 1542402839185, "av": 32 },
    { "_id": "5bef36843e390f00392351c0", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "MOVEMENT", "transactionConcept": "DEPOSIT", "transactions": [{ "id": "82e0cc07-ead2-4c45-a1d5-a4a9c11e8395-1118", "pocket": "MAIN", "value": 70000, "notes": "desito", "location": null, "user": "juan.santa" }] }, "user": "SYSTEM", "timestamp": 1542403716851, "av": 34 },
    { "_id": "5bef37e73e390f00392351c2", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "403377e2-7fe1-4905-ae0c-cfa5f46491f4-1118", "pocket": "MAIN", "value": -50000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648789, -75.6016362] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["91aff2e5-5b19-46ff-87fa-4bd1b18c3b3c-1118"] }, { "id": "91aff2e5-5b19-46ff-87fa-4bd1b18c3b3c-1118", "pocket": "BONUS", "value": 500, "user": "SYSTEM", "associatedTransactionIds": ["403377e2-7fe1-4905-ae0c-cfa5f46491f4-1118"] }] }, "user": "SYSTEM", "timestamp": 1542404071277, "av": 36 },
    { "_id": "5bef38013e390f00392351c3", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "cff44588-0589-4be1-9944-870ade88d73d-1118", "pocket": "MAIN", "value": -50000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648789, -75.6016362] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["ee24e81e-834d-4dd2-b99f-a68a1a70f67c-1118"] }, { "id": "ee24e81e-834d-4dd2-b99f-a68a1a70f67c-1118", "pocket": "BONUS", "value": 400, "user": "SYSTEM", "associatedTransactionIds": ["cff44588-0589-4be1-9944-870ade88d73d-1118"] }] }, "user": "SYSTEM", "timestamp": 1542404097737, "av": 37 },
    { "_id": "5bef38373e390f00392351c6", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "MOVEMENT", "transactionConcept": "DEPOSIT", "transactions": [{ "id": "c8bddcfd-e0c1-4d11-9178-ca75d3fd7919-1118", "pocket": "MAIN", "value": 100000, "notes": "deposito", "location": null, "user": "juan.santa" }] }, "user": "SYSTEM", "timestamp": 1542404151054, "av": 39 },
    { "_id": "5bfc6c128c5c7c00257ec8ca", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "MOVEMENT", "transactionConcept": "DEPOSIT", "transactions": [{ "id": "091912fe-a3dc-4793-a298-cc8bb40960d3-1118", "pocket": "MAIN", "value": 500000, "notes": "ajuste de saldo para pruebas", "location": null, "user": "juan.santa" }] }, "user": "SYSTEM", "timestamp": 1543269394383, "av": 41 },
    { "_id": "5bfc6fbc8c5c7c00257ec8cc", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "MOVEMENT", "transactionConcept": "WITHDRAWAL", "transactions": [{ "id": "2a878157-20a1-41dc-b2bb-87bb8ae33e57-1118", "pocket": "MAIN", "value": -570000, "user": "juan.santa", "location": null, "notes": "retiro del saldo para pruebas", "terminal": null, "associatedTransactionIds": [] }] }, "user": "SYSTEM", "timestamp": 1543270332029, "av": 42 },
    { "_id": "5bfc6fd68c5c7c00257ec8cf", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "MOVEMENT", "transactionConcept": "DEPOSIT", "transactions": [{ "id": "2b3afcc3-ca62-4899-bf56-46fbcdd6c113-1118", "pocket": "MAIN", "value": 1000000, "notes": "ajuste de saldo para las pruebas", "location": null, "user": "juan.santa" }] }, "user": "SYSTEM", "timestamp": 1543270358150, "av": 44 },
    { "_id": "5c0139e82251540039f39312", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "MOVEMENT", "transactionConcept": "DEPOSIT", "transactions": [{ "id": "1f8cfe8c-c39d-4b8f-8c9b-a2de39a566e6-1118", "pocket": "MAIN", "value": 10000, "notes": "Deposito para unidad DESARROLLO", "location": null, "user": "esteban.zapata" }] }, "user": "SYSTEM", "timestamp": 1543584232144, "av": 46 },
    { "_id": "5c0144084e46f5003a3457a0", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "f4c67373-d937-4bd9-8fae-a9225b232c8a-1118", "pocket": "MAIN", "value": -10000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648128, -75.6015513] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["5956e458-d571-405e-97d8-361f6195810e-1118"] }, { "id": "5956e458-d571-405e-97d8-361f6195810e-1118", "pocket": "BONUS", "value": 100, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648128, -75.6015513] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["f4c67373-d937-4bd9-8fae-a9225b232c8a-1118"] }] }, "user": "SYSTEM", "timestamp": 1543586824698, "av": 47 },
    { "_id": "5c01490b4e46f5003a3457a1", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "90e65ca5-f475-4a1d-8e8c-1eee981bbc7d-1118", "pocket": "MAIN", "value": -50000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648115, -75.60156529999999] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["f3c5b4dc-e6b3-46d2-a8c9-acd4f362fa57-1118"] }, { "id": "f3c5b4dc-e6b3-46d2-a8c9-acd4f362fa57-1118", "pocket": "BONUS", "value": 500, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648115, -75.60156529999999] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["90e65ca5-f475-4a1d-8e8c-1eee981bbc7d-1118"] }] }, "user": "SYSTEM", "timestamp": 1543588107896, "av": 48 },
    { "_id": "5c0162924e46f5003a3457a2", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "268d7d66-7f2a-4875-93be-3816a806e612-1118", "pocket": "MAIN", "value": -2000, "user": "juan torres", "location": { "type": "Point", "coordinates": [6.1648769, -75.6016286] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["d0daf5ff-1feb-424b-b37f-788bf7aeb1fe-1118"] }, { "id": "d0daf5ff-1feb-424b-b37f-788bf7aeb1fe-1118", "pocket": "BONUS", "value": 20, "user": "juan torres", "location": { "type": "Point", "coordinates": [6.1648769, -75.6016286] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["268d7d66-7f2a-4875-93be-3816a806e612-1118"] }] }, "user": "SYSTEM", "timestamp": 1543594642517, "av": 49 },
    { "_id": "5c0169264e46f5003a3457a3", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "51b179b6-feb8-4c85-b95f-5f27d072ffe4-1118", "pocket": "MAIN", "value": -10000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648071, -75.60157749999999] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["e29ac728-529d-49c4-a5a8-2ba9dc6abe9e-1118"] }, { "id": "e29ac728-529d-49c4-a5a8-2ba9dc6abe9e-1118", "pocket": "BONUS", "value": 100, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648071, -75.60157749999999] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["51b179b6-feb8-4c85-b95f-5f27d072ffe4-1118"] }] }, "user": "SYSTEM", "timestamp": 1543596326769, "av": 50 },
    { "_id": "5c017c184e46f5003a3457a4", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "556f57d2-9f0b-4ead-b42e-2213180badb8-1118", "pocket": "MAIN", "value": -5000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.164814, -75.60158009999999] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["8e42e6b7-1e86-4241-8ad9-e0d79fcbe502-1118"] }, { "id": "8e42e6b7-1e86-4241-8ad9-e0d79fcbe502-1118", "pocket": "BONUS", "value": 50, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.164814, -75.60158009999999] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["556f57d2-9f0b-4ead-b42e-2213180badb8-1118"] }] }, "user": "SYSTEM", "timestamp": 1543601176623, "av": 51 },
    { "_id": "5c01800e4e46f5003a3457a5", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "88b737ba-db85-4daa-9f5d-33a0289f6bd6-1118", "pocket": "MAIN", "value": -2000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1647639, -75.6016355] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["b567470c-f1df-4e53-b2ef-b2264092a751-1118"] }, { "id": "b567470c-f1df-4e53-b2ef-b2264092a751-1118", "pocket": "BONUS", "value": 20, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1647639, -75.6016355] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["88b737ba-db85-4daa-9f5d-33a0289f6bd6-1118"] }] }, "user": "SYSTEM", "timestamp": 1543602190074, "av": 52 },
    { "_id": "5c0181da4e46f5003a3457a6", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "1de8631a-e0ac-49eb-956a-07747373a9c3-1118", "pocket": "MAIN", "value": -2000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1647639, -75.6016355] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["a9af22d1-3366-4b19-86c5-235bfce5a70f-1118"] }, { "id": "a9af22d1-3366-4b19-86c5-235bfce5a70f-1118", "pocket": "BONUS", "value": 20, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1647639, -75.6016355] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["1de8631a-e0ac-49eb-956a-07747373a9c3-1118"] }] }, "user": "SYSTEM", "timestamp": 1543602650095, "av": 53 },
    { "_id": "5c01b5dd4e46f5003a3457a7", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "65a65097-b1df-4ce5-880e-e9ecf2ea9fab-1118", "pocket": "MAIN", "value": -2000, "user": "juan torres", "location": { "type": "Point", "coordinates": [6.164778, -75.6016076] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["fa659481-e8fa-4173-a26c-cb13be221037-1118"] }, { "id": "fa659481-e8fa-4173-a26c-cb13be221037-1118", "pocket": "BONUS", "value": 20, "user": "juan torres", "location": { "type": "Point", "coordinates": [6.164778, -75.6016076] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["65a65097-b1df-4ce5-880e-e9ecf2ea9fab-1118"] }] }, "user": "SYSTEM", "timestamp": 1543615965374, "av": 54 },
    { "_id": "5c01b7014e46f5003a3457a8", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "93514d9d-892b-49e2-a814-b4c0708b8107-1118", "pocket": "MAIN", "value": -2000, "user": "juan torres", "location": { "type": "Point", "coordinates": [6.164778, -75.6016076] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["d406c36a-9c80-46d9-a630-4569c12bac2a-1118"] }, { "id": "d406c36a-9c80-46d9-a630-4569c12bac2a-1118", "pocket": "BONUS", "value": 20, "user": "juan torres", "location": { "type": "Point", "coordinates": [6.164778, -75.6016076] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["93514d9d-892b-49e2-a814-b4c0708b8107-1118"] }] }, "user": "SYSTEM", "timestamp": 1543616257093, "av": 55 },
    { "_id": "5c01b8b84e46f5003a3457a9", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "73e2e5a8-1a9b-4873-a448-38be3c2ad330-1118", "pocket": "MAIN", "value": -2000, "user": "juan torres", "location": { "type": "Point", "coordinates": [6.164778, -75.6016076] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["e42b4149-17a1-4cdc-8043-9911981cc082-1118"] }, { "id": "e42b4149-17a1-4cdc-8043-9911981cc082-1118", "pocket": "BONUS", "value": 20, "user": "juan torres", "location": { "type": "Point", "coordinates": [6.164778, -75.6016076] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["73e2e5a8-1a9b-4873-a448-38be3c2ad330-1118"] }] }, "user": "SYSTEM", "timestamp": 1543616696454, "av": 56 },
    { "_id": "5c01ba714e46f5003a3457aa", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "45aaad7c-fac6-47c3-90d2-f3439bb60ad5-1118", "pocket": "MAIN", "value": -2000, "user": "juan torres", "location": { "type": "Point", "coordinates": [6.164778, -75.6016076] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["bb4dc329-1969-4bc2-8dd4-195eac4f286b-1118"] }, { "id": "bb4dc329-1969-4bc2-8dd4-195eac4f286b-1118", "pocket": "BONUS", "value": 20, "user": "juan torres", "location": { "type": "Point", "coordinates": [6.164778, -75.6016076] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["45aaad7c-fac6-47c3-90d2-f3439bb60ad5-1118"] }] }, "user": "SYSTEM", "timestamp": 1543617137517, "av": 57 },
    { "_id": "5c057c7a4e46f5003a3457ab", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "4b81be17-7316-4216-9b25-cc7e8b32455d-1218", "pocket": "MAIN", "value": -2000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648278, -75.6014345] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["7b268a50-9299-42ac-beff-571d059fb31a-1218"] }, { "id": "7b268a50-9299-42ac-beff-571d059fb31a-1218", "pocket": "BONUS", "value": 20, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648278, -75.6014345] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["4b81be17-7316-4216-9b25-cc7e8b32455d-1218"] }] }, "user": "SYSTEM", "timestamp": 1543863418127, "av": 58 },
    { "_id": "5c057fa34e46f5003a3457ac", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "7925724c-7a63-4eba-a40b-7c5d8193e2b9-1218", "pocket": "MAIN", "value": -2000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648174, -75.6015828] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["6bb19c7c-2dd7-4825-8e10-b6410ab8aaf7-1218"] }, { "id": "6bb19c7c-2dd7-4825-8e10-b6410ab8aaf7-1218", "pocket": "BONUS", "value": 20, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648174, -75.6015828] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["7925724c-7a63-4eba-a40b-7c5d8193e2b9-1218"] }] }, "user": "SYSTEM", "timestamp": 1543864227081, "av": 59 },
    { "_id": "5c059abd4e46f5003a3457ad", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "b5931eb7-34bb-496f-8d8d-892a11ed5959-1218", "pocket": "MAIN", "value": -2000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["d676cfcf-a150-4c44-9dd6-850953d5bfcc-1218"] }, { "id": "d676cfcf-a150-4c44-9dd6-850953d5bfcc-1218", "pocket": "BONUS", "value": 20, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["b5931eb7-34bb-496f-8d8d-892a11ed5959-1218"] }] }, "user": "SYSTEM", "timestamp": 1543871165726, "av": 60 },
    { "_id": "5c059b6b4e46f5003a3457ae", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "c664a031-c589-4c4d-b13b-5af894871350-1218", "pocket": "MAIN", "value": -2000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["c63c756e-333e-4458-9d1f-b6769991bc20-1218"] }, { "id": "c63c756e-333e-4458-9d1f-b6769991bc20-1218", "pocket": "BONUS", "value": 20, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["c664a031-c589-4c4d-b13b-5af894871350-1218"] }] }, "user": "SYSTEM", "timestamp": 1543871339425, "av": 61 },
    { "_id": "5c059d794e46f5003a3457af", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "44454d48-0b29-4321-a7e6-5b60e4e758e7-1218", "pocket": "MAIN", "value": -2000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["02c8e842-137b-45f3-a363-16642044f042-1218"] }, { "id": "02c8e842-137b-45f3-a363-16642044f042-1218", "pocket": "BONUS", "value": 20, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["44454d48-0b29-4321-a7e6-5b60e4e758e7-1218"] }] }, "user": "SYSTEM", "timestamp": 1543871865558, "av": 62 },
    { "_id": "5c059daf4e46f5003a3457b0", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "55a9f97b-df63-4ad3-8b3e-0948105f7093-1218", "pocket": "MAIN", "value": -2000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["2c0ad587-174b-4b22-a1d8-1e86fdae5876-1218"] }, { "id": "2c0ad587-174b-4b22-a1d8-1e86fdae5876-1218", "pocket": "BONUS", "value": 20, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["55a9f97b-df63-4ad3-8b3e-0948105f7093-1218"] }] }, "user": "SYSTEM", "timestamp": 1543871919324, "av": 63 },
    { "_id": "5c059e294e46f5003a3457b1", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "2798d07e-261f-4dae-a7d0-8637f26be927-1218", "pocket": "MAIN", "value": -2000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["62759d12-94e8-4a15-8ede-2564bed54818-1218"] }, { "id": "62759d12-94e8-4a15-8ede-2564bed54818-1218", "pocket": "BONUS", "value": 20, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["2798d07e-261f-4dae-a7d0-8637f26be927-1218"] }] }, "user": "SYSTEM", "timestamp": 1543872041674, "av": 64 },
    { "_id": "5c059e684e46f5003a3457b2", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "8c30fab2-9c3a-44b5-afb7-b2b97869f6b4-1218", "pocket": "MAIN", "value": -2000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["43b6300d-0cd5-4c8a-9ed1-80abc9588674-1218"] }, { "id": "43b6300d-0cd5-4c8a-9ed1-80abc9588674-1218", "pocket": "BONUS", "value": 20, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["8c30fab2-9c3a-44b5-afb7-b2b97869f6b4-1218"] }] }, "user": "SYSTEM", "timestamp": 1543872104062, "av": 65 },
    { "_id": "5c059e994e46f5003a3457b3", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "39528ff4-4b17-48c9-9646-c08d621500e5-1218", "pocket": "MAIN", "value": -2000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["276851f8-df87-4351-b372-8f6f02168405-1218"] }, { "id": "276851f8-df87-4351-b372-8f6f02168405-1218", "pocket": "BONUS", "value": 20, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["39528ff4-4b17-48c9-9646-c08d621500e5-1218"] }] }, "user": "SYSTEM", "timestamp": 1543872153798, "av": 66 },
    { "_id": "5c059ef14e46f5003a3457b4", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "fc37a44f-112a-45d5-99b3-9af99f1fd203-1218", "pocket": "MAIN", "value": -2000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["593759e7-6293-44d6-99a2-72aae288b00f-1218"] }, { "id": "593759e7-6293-44d6-99a2-72aae288b00f-1218", "pocket": "BONUS", "value": 20, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["fc37a44f-112a-45d5-99b3-9af99f1fd203-1218"] }] }, "user": "SYSTEM", "timestamp": 1543872241103, "av": 67 },
    { "_id": "5c059f0c4e46f5003a3457b5", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "1e0d9f33-2c80-4b0b-ae64-750f557db69a-1218", "pocket": "MAIN", "value": -2000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["8b464245-e499-4639-b1a0-f506782c6d6d-1218"] }, { "id": "8b464245-e499-4639-b1a0-f506782c6d6d-1218", "pocket": "BONUS", "value": 20, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["1e0d9f33-2c80-4b0b-ae64-750f557db69a-1218"] }] }, "user": "SYSTEM", "timestamp": 1543872267955, "av": 68 },
    { "_id": "5c059f624e46f5003a3457b6", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "4af8a67a-7d49-45ed-84a0-d7b932cb9a27-1218", "pocket": "MAIN", "value": -2000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["d2dc7f8d-0965-4860-9039-ec03c4bb29a9-1218"] }, { "id": "d2dc7f8d-0965-4860-9039-ec03c4bb29a9-1218", "pocket": "BONUS", "value": 20, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["4af8a67a-7d49-45ed-84a0-d7b932cb9a27-1218"] }] }, "user": "SYSTEM", "timestamp": 1543872354765, "av": 69 },
    { "_id": "5c059f9b4e46f5003a3457b7", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "9a31a575-6be3-4a32-a25c-dcdcf22373ad-1218", "pocket": "MAIN", "value": -10000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["7c41a055-8ff0-4809-8d6d-e23954a102ef-1218"] }, { "id": "7c41a055-8ff0-4809-8d6d-e23954a102ef-1218", "pocket": "BONUS", "value": 100, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["9a31a575-6be3-4a32-a25c-dcdcf22373ad-1218"] }] }, "user": "SYSTEM", "timestamp": 1543872411291, "av": 70 },
    { "_id": "5c05bb654e46f5003a3457b8", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "dc204ef0-676a-4704-b467-0eeee2e59432-1218", "pocket": "MAIN", "value": -2000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648612, -75.6016445] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["2b121b37-7dfe-49bf-9e52-2ab239cea6fa-1218"] }, { "id": "2b121b37-7dfe-49bf-9e52-2ab239cea6fa-1218", "pocket": "BONUS", "value": 20, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648612, -75.6016445] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["dc204ef0-676a-4704-b467-0eeee2e59432-1218"] }] }, "user": "SYSTEM", "timestamp": 1543879525187, "av": 71 },
    { "_id": "5c069a9d4e46f5003a3457bc", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "46a09ced-384b-4862-9d94-f4de6fea7d0c-1218", "pocket": "MAIN", "value": -2000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648138999999995, -75.6015687] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["024d28e2-baba-44a2-ac05-7d2846d61a60-1218"] }, { "id": "024d28e2-baba-44a2-ac05-7d2846d61a60-1218", "pocket": "BONUS", "value": 20, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648138999999995, -75.6015687] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["46a09ced-384b-4862-9d94-f4de6fea7d0c-1218"] }] }, "user": "SYSTEM", "timestamp": 1543936669421, "av": 72 },
    { "_id": "5c069fbe4e46f5003a3457c3", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "681b609c-d681-4fce-b58c-b1cefa0c485d-1218", "pocket": "MAIN", "value": -2000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648645, -75.6016682] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["20ea58ff-0b51-488f-97cf-d43f099d0980-1218"] }, { "id": "20ea58ff-0b51-488f-97cf-d43f099d0980-1218", "pocket": "BONUS", "value": 20, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648645, -75.6016682] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["681b609c-d681-4fce-b58c-b1cefa0c485d-1218"] }] }, "user": "SYSTEM", "timestamp": 1543937982215, "av": 73 },
    { "_id": "5c06a0454e46f5003a3457c4", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "2eb995ba-18a0-441d-9a37-07d586f87b33-1218", "pocket": "MAIN", "value": -5000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648645, -75.6016682] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["3e1392f3-a2e8-48ae-a7cc-b0ed78893cc6-1218"] }, { "id": "3e1392f3-a2e8-48ae-a7cc-b0ed78893cc6-1218", "pocket": "BONUS", "value": 50, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648645, -75.6016682] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["2eb995ba-18a0-441d-9a37-07d586f87b33-1218"] }] }, "user": "SYSTEM", "timestamp": 1543938117840, "av": 74 },
    { "_id": "5c06a3d34e46f5003a3457c5", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "3490106e-1f54-4cee-9431-e30f04a99ccb-1218", "pocket": "MAIN", "value": -2000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648893, -75.6016471] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["6885a8f3-6079-4662-b998-484e487bcc6e-1218"] }, { "id": "6885a8f3-6079-4662-b998-484e487bcc6e-1218", "pocket": "BONUS", "value": 20, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648893, -75.6016471] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["3490106e-1f54-4cee-9431-e30f04a99ccb-1218"] }] }, "user": "SYSTEM", "timestamp": 1543939027379, "av": 75 },
    { "_id": "5c06a8884e46f5003a3457c6", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "638d2c2d-8a07-420a-922b-330074431a3b-1218", "pocket": "MAIN", "value": -2000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648893, -75.6016471] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["9d7b199e-9bcb-410c-b9ca-08550547fc30-1218"] }, { "id": "9d7b199e-9bcb-410c-b9ca-08550547fc30-1218", "pocket": "BONUS", "value": 20, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648893, -75.6016471] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["638d2c2d-8a07-420a-922b-330074431a3b-1218"] }] }, "user": "SYSTEM", "timestamp": 1543940232164, "av": 76 },
    { "_id": "5c06aac74e46f5003a3457c7", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "a24faf9c-0087-4e9f-a6cc-aa4194a39678-1218", "pocket": "MAIN", "value": -5000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648893, -75.6016471] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["2c345136-d6f7-4a5f-9656-8746b8c53a1b-1218"] }, { "id": "2c345136-d6f7-4a5f-9656-8746b8c53a1b-1218", "pocket": "BONUS", "value": 50, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648893, -75.6016471] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["a24faf9c-0087-4e9f-a6cc-aa4194a39678-1218"] }] }, "user": "SYSTEM", "timestamp": 1543940807422, "av": 77 },
    { "_id": "5c06ab024e46f5003a3457c9", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "MOVEMENT", "transactionConcept": "DEPOSIT", "transactions": [{ "id": "9626c678-1e8d-4b68-8380-751a2f09c958-1218", "pocket": "MAIN", "value": 500000, "notes": "recarga de saldo para hacer pruebas", "location": null, "user": "juan.santa" }] }, "user": "SYSTEM", "timestamp": 1543940866483, "av": 78 },
    { "_id": "5c06b0714e46f5003a3457ca", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "e72db7f9-f4e5-4035-baf2-442c83d583d1-1218", "pocket": "MAIN", "value": -15000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648628, -75.6016287] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["f91f2048-43e8-4f12-93e2-71f3c962ac4b-1218"] }, { "id": "f91f2048-43e8-4f12-93e2-71f3c962ac4b-1218", "pocket": "BONUS", "value": 150, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648628, -75.6016287] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["e72db7f9-f4e5-4035-baf2-442c83d583d1-1218"] }] }, "user": "SYSTEM", "timestamp": 1543942257092, "av": 79 },
    { "_id": "5c06b1e74e46f5003a3457cb", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "b8b54752-6e4b-4a53-9ef8-b3facdd228ee-1218", "pocket": "MAIN", "value": -10000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648628, -75.6016287] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["f91d5966-d08f-4312-b021-21451308e2e8-1218"] }, { "id": "f91d5966-d08f-4312-b021-21451308e2e8-1218", "pocket": "BONUS", "value": 100, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.1648628, -75.6016287] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["b8b54752-6e4b-4a53-9ef8-b3facdd228ee-1218"] }] }, "user": "SYSTEM", "timestamp": 1543942631903, "av": 80 },
    { "_id": "5c06ddc04e46f5003a3457cf", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "3cb8ec75-7c5b-4aa4-a31a-1a9d12e0e807-1218", "pocket": "MAIN", "value": -2000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.164830299999999, -75.6015681] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["3774efb2-f46b-4620-a90d-984bef0ddefe-1218"] }, { "id": "3774efb2-f46b-4620-a90d-984bef0ddefe-1218", "pocket": "BONUS", "value": 20, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.164830299999999, -75.6015681] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["3cb8ec75-7c5b-4aa4-a31a-1a9d12e0e807-1218"] }] }, "user": "SYSTEM", "timestamp": 1543953856297, "av": 81 },
    { "_id": "5c06de374e46f5003a3457d0", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5bedfea007d1560025def062", "data": { "businessId": "c81860b2-5da0-4c03-8774-445f244bc8d4", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "e67a4d63-488e-4698-a97f-eb79cae4af9c-1218", "pocket": "MAIN", "value": -2000, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.164830299999999, -75.6015681] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["c3fe2ec9-bddc-4b52-85f1-aaccf1f6ae44-1218"] }, { "id": "c3fe2ec9-bddc-4b52-85f1-aaccf1f6ae44-1218", "pocket": "BONUS", "value": 20, "user": "desarrollo pos1", "location": { "type": "Point", "coordinates": [6.164830299999999, -75.6015681] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": ["e67a4d63-488e-4698-a97f-eb79cae4af9c-1218"] }] }, "user": "SYSTEM", "timestamp": 1543953975060, "av": 82 },
    { "_id": "5c06f7df53c56a003b9f3aaa", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5c06c6c84e46f5003a3457cd", "data": { "businessId": "832dbff6-4d19-46b3-9845-7fd316a5c806", "transactionType": "MOVEMENT", "transactionConcept": "DEPOSIT", "transactions": [{ "id": "6b748254-c576-4f33-b724-05143b898914-1218", "pocket": "MAIN", "value": 250000, "notes": "recarga de saldo de pruebas", "location": null, "user": "juan.santa.plat_adm" }] }, "user": "SYSTEM", "timestamp": 1543960543991, "av": 2 },
    { "_id": "5c0708f4488b7d0039c37e11", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5c06c6c84e46f5003a3457cd", "data": { "businessId": "832dbff6-4d19-46b3-9845-7fd316a5c806", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "b1437ef1-a173-4f85-9cd5-6ce5d66c9f29-1218", "pocket": "MAIN", "value": -2000, "user": "Jose Asuncin", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": [] }] }, "user": "SYSTEM", "timestamp": 1543964916104, "av": 4 },
    { "_id": "5c07090b488b7d0039c37e12", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5c06c6c84e46f5003a3457cd", "data": { "businessId": "832dbff6-4d19-46b3-9845-7fd316a5c806", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "34d470ce-e3ec-41ed-89aa-5dac2dabd0ad-1218", "pocket": "MAIN", "value": -2000, "user": "Jose Asuncin", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": [] }] }, "user": "SYSTEM", "timestamp": 1543964939868, "av": 5 },
    { "_id": "5c07091e488b7d0039c37e13", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5c06c6c84e46f5003a3457cd", "data": { "businessId": "832dbff6-4d19-46b3-9845-7fd316a5c806", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "30719613-6c2a-4c04-a5cf-1a605b8a9382-1218", "pocket": "MAIN", "value": -2000, "user": "Jose Asuncin", "location": { "type": "Point", "coordinates": [6.1616938999999995, -75.60333829999999] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": [] }] }, "user": "SYSTEM", "timestamp": 1543964958251, "av": 6 },
    { "_id": "5c070969488b7d0039c37e14", "et": "WalletTransactionExecuted", "etv": 1, "at": "Wallet", "aid": "5c06c6c84e46f5003a3457cd", "data": { "businessId": "832dbff6-4d19-46b3-9845-7fd316a5c806", "transactionType": "SALE", "transactionConcept": "RECARGA_CIVICA", "transactions": [{ "id": "095f5e14-6fbc-48d4-99b1-e181e4660738-1218", "pocket": "MAIN", "value": -2000, "user": "Jose Asuncin", "location": { "type": "Point", "coordinates": [6.1649146, -75.6015894] }, "notes": "", "terminal": { "id": "testPosId", "userId": "testPosUserId", "userName": "testPosUser" }, "associatedTransactionIds": [] }] }, "user": "SYSTEM", "timestamp": 1543965033049, "av": 7 },

];


const mqttBroker = new MqttBroker({ eventsTopic: 'Events', brokerUrl: 'mqtt://localhost:1883' });

mqttBroker.start$().pipe(
    last(),
    switchMapTo(Rx.from(events)),
    concatMap(evt => mqttBroker.publish$(evt))
).subscribe(
    (evt) => console.log(evt),
    (err) => console.error(err),
    () => console.log('complete')
);


